# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

# entrypoint specifies the command to run to start your app.
# For Next.js apps, 'npm run start' (which typically runs 'next start')
# is standard. App Hosting will set the PORT environment variable.
entrypoint: npm run start

runConfig:
  # Increase this value if you'd like to automatically spin up
  # more instances in response to increased traffic.
  maxInstances: 10

env:
  - variable: FIREBASE_ADMIN_SERVICE_ACCOUNT_KEY
    # IMPORTANT: Replace YOUR_SECRET_NAME with the actual name of the secret you created in Google Secret Manager.
    # The project ID 'almaneef-logistics' should be correct.
    secret: projects/almaneef-logistics/secrets/FIREBASE_ADMIN_SA_KEY/versions/latest
    availability:
      - BUILD
      - RUNTIME
# You can add other environment variables here if needed, for example:
#  - variable: NEXT_PUBLIC_SOME_CLIENT_VAR
#    value: 'some_value_for_client'
#    availability:
#      - BUILD # So Next.js can inline it for client-side bundles
#
# Note on FIREBASE_WEBAPP_CONFIG and FIREBASE_CONFIG:
# The build logs indicate these are already being injected by App Hosting.
# If they were not, you could define them here too.
# Example for FIREBASE_WEBAPP_CONFIG (if it wasn't automatically injected):
#  - variable: FIREBASE_WEBAPP_CONFIG
#    value: '{"apiKey":"your-api-key","authDomain":"your-auth-domain",...}'
#    availability:
#      - BUILD
